
scripts.js
  - Look up scripts by full path
  - link or content

dom.js
  - edit dom
  - no game context

log.js
  - capture text for output

fs.js
  - Manage directories (add, edit, delete)

main.js
  - require('working_dir')
  - require('render')
  - working_dir.update()
  - render.update()

env.js
  - global variables
  - cwd

term.js
  - require('scripts')
  - async push to $(working_dir)/.events

scene.js
  - current state of scene

working_dir.js
  - require('fs')
  - require('scripts')
  - require('scene')
  - manage state of directories
  - current working dir
  - each dir, script updates

    for each active script
    while (1) {
      if (update is empty) {
        get next from script
        add to update
      }
      if (update is empty) {
        break;
      }
      if ( update.next() == incomplete ) {
        break;
      }
    } 

render.js
  - require('scene')
  - require('dom')
  - require('scripts')
  - draw current state of scene
  - async push to $(working_dir)/.events

